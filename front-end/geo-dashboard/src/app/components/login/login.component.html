<div class="login-wrapper">
  <!-- Dark overlay for better contrast -->
  <div class="overlay"></div>

  <!-- Login Container -->
  <div class="login-container">
    <div class="login-card">
      <!-- Header Section -->
      <div class="login-header">
        <div class="title-section">
          <h1 class="main-title">GeoSpatial Dashboard</h1>
 
        </div>
      </div>

      <!-- Content Section -->
      <div class="login-content">
        <div class="form-title">
          <h2>{{ mode === 'login' ? 'Connexion' : 'Mot de passe oublié' }}</h2>
        </div>

        <!-- Login Form -->
        <form
          *ngIf="mode === 'login'"
          (ngSubmit)="submitLogin()"
          class="auth-form"
          novalidate
        >
          <div class="form-group">
            <label for="email" class="form-label">
              <span class="label-icon">📧</span>
              Adresse email
            </label>
            <input
              id="email"
              type="email"
              [(ngModel)]="email"
              name="email"
              placeholder="votre.email@exemple.com"
              required
              autocomplete="email"
              class="form-input"
              [class.error]="error && !email"
            />
          </div>

          <div class="form-group">
            <label for="password" class="form-label">
              <span class="label-icon">🔒</span>
              Mot de passe
            </label>
            <input
              id="password"
              type="password"
              [(ngModel)]="password"
              name="password"
              placeholder="Votre mot de passe"
              required
              autocomplete="current-password"
              class="form-input"
              [class.error]="error && !password"
            />
          </div>

          <button
            type="submit"
            class="primary-button"
            [disabled]="isLoginDisabled"
          >
            <span class="button-icon">{{ isLoading ? '⏳' : '🔓' }}</span>
            <span>{{ isLoading ? 'Connexion...' : 'Se connecter' }}</span>
          </button>

          <div class="form-footer">
            <button
              type="button"
              class="link-button"
              (click)="switchToForgotPassword()"
            >
              <span class="button-icon">🔑</span>
              <span>Mot de passe oublié ?</span>
            </button>
          </div>
        </form>

        <!-- Forgot Password Form -->
        <form
          *ngIf="mode === 'forgot'"
          (ngSubmit)="submitForgotPassword()"
          class="auth-form"
          novalidate
        >
          <div class="form-subtitle">
            <h3>Réinitialiser votre mot de passe</h3>
            <p class="form-description">
              Entrez votre adresse email et nous vous enverrons un lien de réinitialisation.
            </p>
          </div>

          <div class="form-group">
            <label for="resetEmail" class="form-label">
              <span class="label-icon">📧</span>
              Adresse email
            </label>
            <input
              id="resetEmail"
              type="email"
              [(ngModel)]="resetEmail"
              name="resetEmail"
              placeholder="votre.email@exemple.com"
              required
              autocomplete="email"
              class="form-input"
              [class.error]="error && !resetEmail"
            />
            <p class="input-help">L'email doit être enregistré dans notre système</p>
          </div>

          <button
            type="submit"
            class="primary-button"
            [disabled]="isForgotPasswordDisabled"
          >
            <span class="button-icon">{{ isLoading ? '⏳' : '📧' }}</span>
            <span>{{ isLoading ? 'Envoi...' : 'Envoyer le lien' }}</span>
          </button>

          <div class="form-footer">
            <button
              type="button"
              class="link-button"
              (click)="switchToLogin()"
            >
              <span class="button-icon">←</span>
              <span>Retour à la connexion</span>
            </button>
          </div>
        </form>

        <!-- Messages -->
        <div class="messages-container">
          <div *ngIf="error" class="message error-message" role="alert">
            <span class="message-icon">⚠️</span>
            <span class="message-text">{{ error }}</span>
          </div>

          <div *ngIf="successMessage" class="message success-message" role="status">
            <span class="message-icon">✅</span>
            <span class="message-text">{{ successMessage }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>